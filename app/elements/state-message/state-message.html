<!--
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../error-message/error-message.html">

<dom-module id="state-message">
  <template>
    <template is="dom-if" if="[[showLoadingText(array.length, loading)]]">
      <div>Loading...</div>
    </template>
    <template is="dom-if" if="[[showErrorText(array.length, loading, error)]]">
      <div>
        <error-message error="[[error]]"></error-message>
      </div>
    </template>
    <template is="dom-if" if="[[showNoItemsText(array.length, loading, error)]]">
      <div>No [[label]]</div>
    </template>
  </template>

  <script>
  (function() {
    'use strict';

    Polymer({
      is: 'state-message',

      properties: {
        array: {
          type: Array,
          value: function() {
            return [];
          }
        },

        loading: {
          type: Boolean,
          value: false
        },

        error: {
          type: Object,
          value: null
        },

        label: {
          type: String,
          value: 'Results'
        }
      },

      showLoadingText: function(arrayLength, loading) {
        return !arrayLength && loading;
      },

      showErrorText: function(arrayLength, loading, error) {
        return !arrayLength && !loading && !!error;
      },

      showNoItemsText: function(arrayLength, loading, error) {
        return !arrayLength && !loading && !error;
      }
    });
  })();
  </script>
</dom-module>
